{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '43997901-59e2ef8a5969ad3162d77619c';\n\nexport const searchPhotos = query => {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return response.json();\n  });\n};\n","export const createGalleryMarkup = images => {\n  return images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n            <li class=\"item-list\">\n                <a href=\"${largeImageURL}\" class=\"item-list-link\">\n                    <img class=\"item-list-img\" src=\"${webformatURL}\" alt=\"${tags}\">\n                </a>\n                <div class='markup-info'>\n                    <div class=\"item-list-info-text\">\n                        <h3 class=\"item-list-title\">Likes</h3>\n                        <p class=\"item-list-text\">${likes}</p>\n                    </div>\n                    <div class=\"item-list-info-text\">\n                        <h3 class=\"item-list-title\">Views</h3>\n                        <p class=\"item-list-text\">${views}</p>\n                    </div>\n                    <div class=\"item-list-info-text\">\n                        <h3 class=\"item-list-title\">Comments</h3>\n                        <p class=\"item-list-text\">${comments}</p>\n                    </div>\n                    <div class=\"item-list-info-text\">\n                        <h3 class=\"item-list-title\">Downloads</h3>\n                        <p class=\"item-list-text\">${downloads}</p>\n                    </div>\n                </div>\n            </li>`\n    )\n    .join('');\n};\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { searchPhotos } from './js/pixabay-api.js';\nimport { createGalleryMarkup } from './js/render-functions.js';\n\nconst galleryEl = document.querySelector('.gallery');\nconst searchField = document.querySelector('.search-field');\nconst searchForm = document.querySelector('.form');\nconst loaderEl = document.querySelector('.loader');\n\nfunction onSearchFormSubmit(event) {\n  event.preventDefault();\n\n  const searchQuery = searchField.value.trim();\n\n  if (searchQuery === '') {\n    galleryEl.innerHTML = '';\n    event.target.reset();\n    iziToast.error({\n      title: 'Error',\n      message: 'Illegal operation',\n      position: 'topRight',\n      color: '#EF4040',\n    });\n    return;\n  }\n  galleryEl.innerHTML = '';\n  loaderEl.classList.remove('is-hidden');\n\n  searchPhotos(searchQuery)\n    .then(imagesData => {\n      loaderEl.classList.add('is-hidden');\n\n      if (imagesData.totalHits === 0) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          color: '#EF4040',\n        });\n        return;\n      }\n      galleryEl.innerHTML = createGalleryMarkup(imagesData.hits);\n\n      const lightbox = new SimpleLightbox('.gallery a');\n      lightbox.refresh();\n    })\n    .catch(error => console.log(error))\n    .finally(() => {\n      event.target.reset();\n      loaderEl.classList.add('is-hidden');\n    });\n}\n\nsearchForm.addEventListener('submit', onSearchFormSubmit);\n"],"names":["BASE_URL","API_KEY","searchPhotos","query","searchParams","response","createGalleryMarkup","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","galleryEl","searchField","searchForm","loaderEl","onSearchFormSubmit","event","searchQuery","iziToast","imagesData","SimpleLightbox","error"],"mappings":"6vBAAA,MAAMA,EAAW,2BACXC,EAAU,qCAEHC,EAAeC,GAAS,CACnC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGH,CAAQ,IAAII,CAAY,EAAE,EAAE,KAAKC,GAAY,CAC3D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,OAAOA,EAAS,MACpB,CAAG,CACH,EClBaC,EAAsBC,GAC1BA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,2BAEeL,CAAa;AAAA,sDACcD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,oDAK5BC,CAAK;AAAA;AAAA;AAAA;AAAA,oDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,oDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,oDAIRC,CAAS;AAAA;AAAA;AAAA,kBAIxD,EACA,KAAK,EAAE,EC5BNC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAW,SAAS,cAAc,SAAS,EAEjD,SAASC,EAAmBC,EAAO,CACjCA,EAAM,eAAc,EAEpB,MAAMC,EAAcL,EAAY,MAAM,KAAI,EAE1C,GAAIK,IAAgB,GAAI,CACtBN,EAAU,UAAY,GACtBK,EAAM,OAAO,QACbE,EAAS,MAAM,CACb,MAAO,QACP,QAAS,oBACT,SAAU,WACV,MAAO,SACb,CAAK,EACD,MACD,CACDP,EAAU,UAAY,GACtBG,EAAS,UAAU,OAAO,WAAW,EAErChB,EAAamB,CAAW,EACrB,KAAKE,GAAc,CAGlB,GAFAL,EAAS,UAAU,IAAI,WAAW,EAE9BK,EAAW,YAAc,EAAG,CAC9BD,EAAS,KAAK,CACZ,QACE,2EACF,SAAU,WACV,MAAO,SACjB,CAAS,EACD,MACD,CACDP,EAAU,UAAYT,EAAoBiB,EAAW,IAAI,EAExC,IAAIC,EAAe,YAAY,EACvC,QAAO,CACtB,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACbL,EAAM,OAAO,QACbF,EAAS,UAAU,IAAI,WAAW,CACxC,CAAK,CACL,CAEAD,EAAW,iBAAiB,SAAUE,CAAkB"}