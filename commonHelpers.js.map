{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '42806027-cb009af69a31f8552609fdd7f';\n\nasync function fetchImages(query) {\n  const url = `https://pixabay.com/api/?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  try {\n    const response = await axios.get(url);\n    return response.data.hits;\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    return [];\n  }\n}\n\nexport { fetchImages };\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nfunction renderImages(images, append = false) {\n  const gallery = document.querySelector('.gallery');\n  if (!gallery) {\n    console.error('Gallery element not found.');\n    return;\n  }\n\n  const lightbox = new SimpleLightbox('.gallery a', {});\n\n  if (!append) {\n    gallery.innerHTML = '';\n  }\n\n  images.forEach(image => {\n    const card = document.createElement('div');\n    card.classList.add('card');\n\n    const a = document.createElement('a');\n    a.href = image.largeImageURL;\n    a.setAttribute('data-lightbox', 'gallery');\n\n    const img = document.createElement('img');\n    img.src = image.webformatURL;\n    img.alt = image.tags;\n\n    const likes = document.createElement('span');\n    likes.textContent = `Likes: ${image.likes}`;\n\n    const views = document.createElement('span');\n    views.textContent = `Views: ${image.views}`;\n\n    const comments = document.createElement('span');\n    comments.textContent = `Comments: ${image.comments}`;\n\n    const downloads = document.createElement('span');\n    downloads.textContent = `Downloads: ${image.downloads}`;\n\n    a.appendChild(img);\n    card.appendChild(a);\n    card.appendChild(likes);\n    card.appendChild(views);\n    card.appendChild(comments);\n    card.appendChild(downloads);\n\n    gallery.appendChild(card);\n  });\n\n  lightbox.refresh();\n}\n\nfunction showMessage(message, type = 'error') {\n  iziToast[type]({\n    title: '',\n    message: message,\n    position: 'topRight',\n  });\n}\n\nfunction addLoader() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.textContent = 'Loading...';\n    loader.classList.remove('hidden');\n  } else {\n    console.error('Loader element not found.');\n  }\n}\n\nfunction removeLoader() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.classList.add('hidden');\n  } else {\n    console.error('Loader element not found.');\n  }\n}\n\nexport { renderImages, showMessage, addLoader, removeLoader };\n","import { fetchImages } from './js/pixabay-api.js';\nimport {\n  renderImages,\n  showMessage,\n  addLoader,\n  removeLoader,\n} from './js/render-functions.js';\n\nwindow.addEventListener('DOMContentLoaded', event => {\n  const form = document.querySelector('form');\n  if (form) {\n    form.addEventListener('submit', handleSubmit);\n  } else {\n    console.error('Form element not found.');\n  }\n});\n\nasync function handleSubmit(event) {\n  event.preventDefault();\n\n  const queryInput = event.target.elements.query;\n  if (!queryInput) {\n    showMessage('Search input not found.', 'error');\n    return;\n  }\n\n  const queryValue = queryInput.value.trim();\n\n  if (!queryValue) {\n    showMessage('Please enter a search query.', 'warning');\n    return;\n  }\n\n  addLoader();\n  clearGallery();\n\n  try {\n    const images = await fetchImages(queryValue);\n\n    if (images.length === 0) {\n      showMessage(\n        'Sorry, there are no images matching your search query. Please try again.'\n      );\n      return;\n    }\n\n    renderImages(images);\n  } catch (error) {\n    console.error('Error processing search:', error);\n    showMessage(\n      'An error occurred while processing your search. Please try again later.'\n    );\n  } finally {\n    removeLoader();\n  }\n}\n\nfunction clearGallery() {\n  const gallery = document.querySelector('.gallery');\n  if (gallery) {\n    gallery.innerHTML = '';\n  } else {\n    console.error('Gallery element not found.');\n  }\n}\n"],"names":["API_KEY","fetchImages","query","url","axios","error","renderImages","images","append","gallery","lightbox","SimpleLightbox","image","card","img","likes","views","comments","downloads","showMessage","message","type","addLoader","loader","removeLoader","event","form","handleSubmit","queryInput","queryValue","clearGallery"],"mappings":"6vBAEA,MAAMA,EAAU,qCAEhB,eAAeC,EAAYC,EAAO,CAChC,MAAMC,EAAM,gCAAgCH,CAAO,MAAME,CAAK,2DAE9D,GAAI,CAEF,OADiB,MAAME,EAAM,IAAID,CAAG,GACpB,KAAK,IACtB,OAAQE,EAAO,CACd,eAAQ,MAAM,yBAA0BA,CAAK,EACtC,EACR,CACH,CCXA,SAASC,EAAaC,EAAQC,EAAS,GAAO,CAC5C,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjD,GAAI,CAACA,EAAS,CACZ,QAAQ,MAAM,4BAA4B,EAC1C,MACD,CAED,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAAE,CAAA,EAE/CH,IACHC,EAAQ,UAAY,IAGtBF,EAAO,QAAQK,GAAS,CACtB,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,MAAM,EAEzB,MAAM,EAAI,SAAS,cAAc,GAAG,EACpC,EAAE,KAAOD,EAAM,cACf,EAAE,aAAa,gBAAiB,SAAS,EAEzC,MAAME,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMF,EAAM,aAChBE,EAAI,IAAMF,EAAM,KAEhB,MAAMG,EAAQ,SAAS,cAAc,MAAM,EAC3CA,EAAM,YAAc,UAAUH,EAAM,KAAK,GAEzC,MAAMI,EAAQ,SAAS,cAAc,MAAM,EAC3CA,EAAM,YAAc,UAAUJ,EAAM,KAAK,GAEzC,MAAMK,EAAW,SAAS,cAAc,MAAM,EAC9CA,EAAS,YAAc,aAAaL,EAAM,QAAQ,GAElD,MAAMM,EAAY,SAAS,cAAc,MAAM,EAC/CA,EAAU,YAAc,cAAcN,EAAM,SAAS,GAErD,EAAE,YAAYE,CAAG,EACjBD,EAAK,YAAY,CAAC,EAClBA,EAAK,YAAYE,CAAK,EACtBF,EAAK,YAAYG,CAAK,EACtBH,EAAK,YAAYI,CAAQ,EACzBJ,EAAK,YAAYK,CAAS,EAE1BT,EAAQ,YAAYI,CAAI,CAC5B,CAAG,EAEDH,EAAS,QAAO,CAClB,CAEA,SAASS,EAAYC,EAASC,EAAO,QAAS,CAC5C,SAASA,CAAI,EAAE,CACb,MAAO,GACP,QAASD,EACT,SAAU,UACd,CAAG,CACH,CAEA,SAASE,GAAY,CACnB,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACFA,EAAO,YAAc,aACrBA,EAAO,UAAU,OAAO,QAAQ,GAEhC,QAAQ,MAAM,2BAA2B,CAE7C,CAEA,SAASC,GAAe,CACtB,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,EACFA,EAAO,UAAU,IAAI,QAAQ,EAE7B,QAAQ,MAAM,2BAA2B,CAE7C,CCtEA,OAAO,iBAAiB,mBAAoBE,GAAS,CACnD,MAAMC,EAAO,SAAS,cAAc,MAAM,EACtCA,EACFA,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,QAAQ,MAAM,yBAAyB,CAE3C,CAAC,EAED,eAAeA,EAAaF,EAAO,CACjCA,EAAM,eAAc,EAEpB,MAAMG,EAAaH,EAAM,OAAO,SAAS,MACzC,GAAI,CAACG,EAAY,CACfT,EAAY,0BAA2B,OAAO,EAC9C,MACD,CAED,MAAMU,EAAaD,EAAW,MAAM,KAAI,EAExC,GAAI,CAACC,EAAY,CACfV,EAAY,+BAAgC,SAAS,EACrD,MACD,CAEDG,IACAQ,IAEA,GAAI,CACF,MAAMvB,EAAS,MAAMN,EAAY4B,CAAU,EAE3C,GAAItB,EAAO,SAAW,EAAG,CACvBY,EACE,0EACR,EACM,MACD,CAEDb,EAAaC,CAAM,CACpB,OAAQF,EAAO,CACd,QAAQ,MAAM,2BAA4BA,CAAK,EAC/Cc,EACE,yEACN,CACA,QAAY,CACRK,GACD,CACH,CAEA,SAASM,GAAe,CACtB,MAAMrB,EAAU,SAAS,cAAc,UAAU,EAC7CA,EACFA,EAAQ,UAAY,GAEpB,QAAQ,MAAM,4BAA4B,CAE9C"}